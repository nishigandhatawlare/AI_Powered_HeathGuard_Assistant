<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - AI Healthcare Assistant</title>
    <link rel="stylesheet" href="~/css/custom.css">
    <link rel="stylesheet" href="~/vendor/bootstrap/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.11.0/main.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.css">


</head>
<body>
    <nav class="sidebar bg-light p-3">
        <a class="navbar-brand" href="#">AI Healthcare Assistant</a>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link @(ViewData["ActivePage"]?.ToString() == "Dashboard" ? "active" : "")" href="/Dashboard"><i class="fa fa-chart-line"></i> Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(ViewData["ActivePage"]?.ToString() == "Medications" ? "active" : "")" href="/Medications"><i class="fa fa-pills"></i> Medications</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(ViewData["ActivePage"]?.ToString() == "Messages" ? "active" : "")" href="/Messages"><i class="fa fa-envelope"></i> Messages</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(ViewData["ActivePage"]?.ToString() == "Profile" ? "active" : "")" href="/Profile"><i class="fa fa-user"></i> Profile</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(ViewData["ActivePage"]?.ToString() == "HealthMonitoring" ? "active" : "")" href="/HealthMonitoring"><i class="fa fa-heartbeat"></i> Health Monitoring</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(ViewData["ActivePage"]?.ToString() == "Appointments" ? "active" : "")" href="/Appointments/Schedule"><i class="fa fa-heartbeat"></i> Appointments</a>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <div class="content">
        <header class="mb-4 text-center">
            <h1>@ViewData["Title"]</h1>
        </header>

        <main>
            @RenderBody()
            <partial name="_Notifications" />
        </main>
    </div>
    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 AI Healthcare Assistant. All Rights Reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
    </footer>
    @if (IsSectionDefined("Scripts"))
    {
        @RenderSection("Scripts", required: false)
    }
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Example: Increment the inbox badge count on receiving a new message
        document.addEventListener('newMessageReceived', function (event) {
            let inboxBadge = document.querySelector('.nav-item.active .badge');
            if (inboxBadge) {
                let currentCount = parseInt(inboxBadge.textContent, 10) || 0;
                inboxBadge.textContent = currentCount + 1;
            }
        });
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script>
        document.getElementById('symptomForm').addEventListener('submit', function (event) {
            event.preventDefault();
            var symptom = document.getElementById('symptom').value;
            var duration = document.getElementById('duration').value;
            var severity = document.getElementById('severity').value;

            // Simulate AI recommendation
            var recommendationText = "Based on your input, we recommend you ";

            if (severity === '3') {
                recommendationText += "see a doctor immediately.";
            } else if (duration.includes('week') || duration.includes('days') && severity === '2') {
                recommendationText += "monitor your symptoms and consider seeking medical advice if they persist.";
            } else {
                recommendationText += "take rest and stay hydrated.";
            }

            document.getElementById('recommendation').textContent = recommendationText;
            document.getElementById('bookConsultation').style.display = 'block';
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.11.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: [
                    // Add your events here
                ]
            });
            calendar.render();
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <script>
        // JavaScript for handling video call
        document.getElementById('start-call').addEventListener('click', function () {
            // Code to start video call
            alert('Starting video call...');
        });

        document.getElementById('end-call').addEventListener('click', function () {
            // Code to end video call
            alert('Ending video call...');
        });

        document.getElementById('mute').addEventListener('click', function () {
            // Code to mute the call
            alert('Muted');
        });

        document.getElementById('unmute').addEventListener('click', function () {
            // Code to unmute the call
            alert('Unmuted');
        });

        // JavaScript for handling chat
        document.getElementById('send-chat').addEventListener('click', function () {
            const message = document.getElementById('chat-input').value;
            const chatBox = document.getElementById('chat-box');
            if (message.trim() === '') return; // Prevent sending empty messages

            const newMessage = document.createElement('p');
            newMessage.textContent = "You: " + message;
            chatBox.appendChild(newMessage);
            document.getElementById('chat-input').value = ''; // Clear input field
            chatBox.scrollTop = chatBox.scrollHeight; // Scroll to the bottom
        });
    </script>
    <script>
        toastr.options = {
            "closeButton": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "timeOut": "5000"
        };
    </script>
</body>
</html>
